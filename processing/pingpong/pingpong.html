<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Ping pong | Kodeklubben</title><link href="../../assets/style.min.css" rel="stylesheet"/><script type="text/javascript">// convert url relative to current file
// ex: python/index.html -> ../python/index.html
function relative (url) {
  var urlRoot = '../..';
  if (urlRoot !== '') {
    return urlRoot + '/' + url;
  }
  return url;
}</script></head><body><div class="container"><div class="row"><div class="col-xs-12"><div class="top-menu"><div class="navigation"><a href="../../index.html"><span aria-hidden="true" class="glyphicon glyphicon-home"></span><span>&nbsp;</span><span>Forside</span></a><span>&nbsp;/&nbsp;</span><img src="../logo-black.png"/><a href="..">Processing</a></div><a title="Ta en omvisning på siden" data-placement="bottom" href="#" class="intro"><span class="icon"></span><span class="text">Intro</span></a><form class="search"><input type="text" placeholder="Søk" class="form-control"/></form></div></div><div class="search"><h1>Søkeresultat</h1><div class="results"></div></div><div class="col-xs-12"><header class="clearfix"><img src="../logo-black.png" class="logo hidden-xs"/><h1 class="title">Ping pong</h1><div class="lesson-icons"><div class="level"><img title="Nivå 2" src="../../assets/img/level2.png"/><span>Nybegynner</span></div><a href=".." class="course"><img src="../logo-white.png"/><span>Processing</span></a><div class="pdf"><a href="/processing/pingpong/pingpong.pdf" title="Last ned PDF"><span class="icon"></span><span class="text">PDF</span></a></div></div></header></div><div class="col-xs-12"><div class="content"><section class="intro" id="introdusjon">
<h1 class="intro" id="introdusjon">Introdusjon:</h1>
<p>Her skal vi lage dataspillet Ping pong. Vi skal også lære om å hvordan du kan få programmene dine til å reagere på tastetrykk. Dette er veldig nyttig når du skal lage spill.</p>
</section>
<section class="activity" id="steg-1-sprettende-ball">
<h1 class="activity" id="steg-1-sprettende-ball">Steg 1: Sprettende ball</h1>
<p>Vår begynnelse kommer til å ligne på det vi gjorde i <a href="../sprettende_ball/sprettende_ball.html">den sprettende ballen</a>.</p>
<section class="check" id="sjekkliste">
<h2 class="check" id="sjekkliste">Sjekkliste</h2>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_0" disabled="true"><label for="cbx_0"> Start Processing og skriv dette:</label></p>
<pre><code class="processing"><span class="hljs-built_in">float</span> ballX;
<span class="hljs-built_in">float</span> ballY;
<span class="hljs-built_in">float</span> ballXFart = <span class="hljs-number">2</span>;
<span class="hljs-built_in">float</span> ballYFart = <span class="hljs-number">2</span>;
<span class="hljs-built_in">float</span> ballRadius = <span class="hljs-number">9</span>;
<span class="hljs-built_in">float</span> ballDiameter = ballRadius * <span class="hljs-number">2</span>;

<span class="hljs-keyword">void</span> <span class="hljs-title">setup</span>() {
  <span class="hljs-built_in">size</span>(<span class="hljs-number">600</span>, <span class="hljs-number">300</span>);

  ballX = <span class="hljs-built_in">width</span> / <span class="hljs-number">2</span>;
  ballY = <span class="hljs-built_in">height</span> / <span class="hljs-number">2</span>;
}

<span class="hljs-keyword">void</span> <span class="hljs-title">draw</span>() {
  ballX = ballX + ballXFart;
  ballY = ballY + ballYFart;

  <span class="hljs-keyword">if</span> (ballX &lt; ballRadius) {
  ballXFart = -ballXFart;
  }
  <span class="hljs-keyword">if</span> (ballX &gt; <span class="hljs-built_in">width</span> - ballRadius) {
  ballXFart = -ballXFart;
  }
  <span class="hljs-keyword">if</span> (ballY &lt; ballRadius) {
  ballYFart = -ballYFart;
  }
  <span class="hljs-keyword">if</span> (ballY &gt; <span class="hljs-built_in">height</span> - ballRadius) {
  ballYFart = -ballYFart;
  }

  <span class="hljs-built_in">background</span>(<span class="hljs-number">0</span>);
  <span class="hljs-built_in">ellipse</span>(ballX, ballY, ballDiameter, ballDiameter);
}
</code></pre>
<p>Koden er endret litt fra oppgaven om den sprettende ballen.
Vi bruker andre navn på variablene våre. Det er også noen helt nye variabler.</p>
<p>Hvorfor tror du vi har gjort dette?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_1" disabled="true"><label for="cbx_1"> Kjør programmet ved å trykke på <strong>Ctrl + R</strong> eller knappen
<img src="../play.png" alt="" title="Play - En knapp i verktøylinjen merket med pil"></label></p>
</li>
</ul>
<p><figure><img src="sprettendeBall.gif" alt="" title="En sprettende ball på en svart bakgrunn."></figure></p>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_2" disabled="true"><label for="cbx_2"> Lagre programmet som PingPong ved å trykke på <strong>Ctrl+S</strong> eller
velg <strong>File --&gt; Save</strong> i menyen.</label></li>
</ul>
</section>
<section class="challenge" id="utfordringer">
<h2 class="challenge" id="utfordringer">Utfordringer</h2>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_3" disabled="true"><label for="cbx_3"> Kan du endre størrelsen på ballen?</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_4" disabled="true"><label for="cbx_4"> Kan du endre farten til ballen?</label></li>
</ul>
</section>
</section>
<section class="activity" id="steg-2-ballen-faller-bak">
<h1 class="activity" id="steg-2-ballen-faller-bak">Steg 2: Ballen faller bak</h1>
<p>I Ping pong skal du hindre at ballen faller bak rekkerten. For at det skal være vits å gjøre dette må vi først sørge for at ballen ikke bare spretter tilbake når den treffer venstre vegg. Vi kan begynne med å sørge for at ballen ikke spretter tilbake.</p>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_5" disabled="true"><label for="cbx_5"> Fjern koden som gjør at ballen spretter tilbake (denne ligger i den øverste ‘if’-en), slik at du går fra dette:</label></p>
<pre><code class="processing"><span class="hljs-keyword">if</span> (ballX &lt; ballRadius) {
  ballXFart = -ballXFart;
}
</code></pre>
<p>Til:</p>
<pre><code class="processing"><span class="hljs-keyword">if</span> (ballX &lt; ballRadius) {

}
</code></pre>
<p><figure><img src="gjennommaal.gif" alt="" title="En ball går igjennom venstre vegg"></figure></p>
</li>
</ul>
<section class="challenge" id="utfordringer-2">
<h2 class="challenge" id="utfordringer-2">Utfordringer</h2>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_6" disabled="true"><label for="cbx_6"> Kan du få ballen til å dukke opp et annet sted etter den har gått igjennom veggen?</label></li>
</ul>
</section>
</section>
<section class="activity" id="steg-3-legg-til-rekkerten">
<h1 class="activity" id="steg-3-legg-til-rekkerten">Steg 3: Legg til rekkerten</h1>
<p>Nå som ballen kan falle igjennom den venstre veggen, så må vi få på plass en rekkert, slik at du kan slå ballen tilbake. Det gjør vi ved å ha noen tallvariabler som representerer hvor rekkerten er og hvor stor den er. I tilegg så må vi ha kode som sender ballen tilbake.</p>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_7" disabled="true"><label for="cbx_7"> Legge inn disse variablene nedenfor de som er der fra før:</label></p>
<pre><code class="processing"><span class="hljs-built_in">float</span> rekkertHoyde = <span class="hljs-number">66</span>;
<span class="hljs-built_in">float</span> rekkertBredde = <span class="hljs-number">5</span>;
<span class="hljs-built_in">float</span> rekkert1X = <span class="hljs-number">20</span>;
<span class="hljs-built_in">float</span> rekkert1Y = <span class="hljs-number">100</span>;
</code></pre>
<p>Disse variablene skal vi bruke til å holde styr på
på størrelsen og plasseringen til rekkerten.</p>
<p>Rett nedenfor background(0), legg til dette:</p>
<pre><code class="processing"><span class="hljs-built_in">rect</span>(rekkert1X, rekkert1Y, rekkertBredde, rekkertHoyde);
</code></pre>
<p><figure><img src="ballGjennomRekkert.gif" alt="" title="En ball går igjennom rekkerten"></figure></p>
<p>Vi kan nå se rekkerten når vi kjører programmet, men ballen går
igjennom rekkerten. Det er fordi vi ikke har skrevet kode som
stopper ballen og sender den tilbake.</p>
<p>Legg til følgende i draw()-funksjonen:</p>
<pre><code class="processing"><span class="hljs-keyword">if</span> (ballX-ballRadius &lt; rekkert1X + rekkertBredde &amp;&amp; ballX + ballRadius &gt; rekkert1X) {
  <span class="hljs-keyword">if</span> (ballY &lt; rekkert1Y + rekkertHoyde &amp;&amp; ballY &gt; rekkert1Y) {
    ballX = ballX + rekkertBredde;
    ballXFart = -ballXFart;
  }
}
</code></pre>
</li>
</ul>
<p><figure><img src="spretterPaRekkert.gif" alt="" title="Ballen spretter på rekkerten"></figure></p>
<section class="challenge" id="utfordringer-3">
<h2 class="challenge" id="utfordringer-3">Utfordringer</h2>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_8" disabled="true"><label for="cbx_8"> Kan du gjøre rekkerten mindre?</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_9" disabled="true"><label for="cbx_9"> Kan du endre plasseringen til rekkerten?</label></li>
</ul>
</section>
<section class="protip" id="forklaring">
<h2 class="protip" id="forklaring">Forklaring</h2>
<p>Her er et bilde som forklarer hva de forskjellige variablene står for:</p>
<p><figure><img src="illustrasjon.png" alt="" title="Illustrasjon som viser sammenhengen mellom variablene og hva tingene i spillet"></figure></p>
</section>
</section>
<section>
<h1 id="steg-4-styre-rekkerten">Steg 4: Styre rekkerten</h1>
<p>Vi har en rekkert, men den er ikke til mye hjelp så lenge du ikke kan styre den. Derfor må du skrive kode som gjør at du kan styre den.</p>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_10" disabled="true"><label for="cbx_10"> Skriv inn følgende i draw():</label></p>
<pre><code class="processing"><span class="hljs-keyword">if</span> (<span class="hljs-built_in">keyPressed</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">keyCode</span> == UP) {
    rekkert1Y = rekkert1Y - <span class="hljs-number">2</span>;
  }
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">keyCode</span> == DOWN) {
    rekkert1Y = rekkert1Y + <span class="hljs-number">2</span>;
  }
}
</code></pre>
<p>Denne koden sjekker først om en knapp er trykket ned (keyPressed).
Deretter sjekker den om det er opp- eller ned-knappen
som blir trykket ned, og beveger rekkerten basert på dette.</p>
</li>
</ul>
<p><figure><img src="bevegeligRekkert.gif" alt="" title="Rekkert som beveger seg"></figure></p>
<p>Nå har du laget Ping pong!</p>
<section class="protip" id="bokstavtaster">
<h2 class="protip" id="bokstavtaster">Bokstavtaster</h2>
<p>Hvis du vil styre ved å trykke på bokstavtaster istedenfor piltastene, må du endre litt på koden. Mange er vant til å styre opp med <strong>W</strong> og ned med <strong>S</strong>.</p>
<p>Hvis du endrer:</p>
<pre><code class="processing">  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">keyCode</span> == UP) {
</code></pre>
<p>Til:</p>
<pre><code class="processing">  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">key</span> == <span class="hljs-string">'w'</span>) {
</code></pre>
<p>kan du styre opp med <strong>W</strong>. Hva tror du at du må gjøre for å kunne styre ned med <strong>S</strong>?</p>
</section>
<section class="challenge" id="utfordringer-4">
<h2 class="challenge" id="utfordringer-4">Utfordringer</h2>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_11" disabled="true"><label for="cbx_11"> Kan du endre farten rekkerten beveger seg i?</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_12" disabled="true"><label for="cbx_12"> Kan du legge til en rekkert på den andre siden slik at to spillere kan spille mot hverandre?</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_13" disabled="true"><label for="cbx_13"> Kan du gjøre det slik at ballens vertikale retning (opp og ned) bestemmes av hvilken del av rekkerten den treffer?</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_14" disabled="true"><label for="cbx_14"> Kan du gjøre noe som gjør at spillet blir vanskeligere etter hvert? For eksempel at ballen går raskere og raskere etter hvert, eller at rakkerten blir mindre.</label></li>
</ul>
</section>
</section>
</div><div class="improve"><h3>Forbedre denne siden</h3><p>Funnet en feil? Kunne noe vært bedre? Hvis ja, vennligst gi oss tilbakemelding ved å lage en sak på Github eller fiks feilen selv om du kan. Vi er takknemlige for enhver tilbakemelding!</p><a href="https://github.com/kodeklubben/oppgaver/issues/new?title=Problem med Processing: Ping pong&amp;body=Oppgavens kildekode: https://github.com/kodeklubben/oppgaver/tree/master/src/processing/pingpong" class="issue">Rapporter et problem</a><a href="https://github.com/kodeklubben/oppgaver/tree/master/src/processing/pingpong" class="code">Vis koden og fiks selv</a></div></div><div class="col-xs-12"><div id="footer" class="clearfix"><div class="license"><p><strong>Lisens:</strong></p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.no">CC BY-SA 4.0</a></div><div class="author"><p><strong>Forfatter</strong></p><p>Torbjørn Vik Lunde</p>
</div></div></div></div></div><div class="intro-question modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" aria-label="Close" class="close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Hei der!</h4></div><div class="modal-body"><p>Ser ut som dette er ditt første besøk, vil du ha en omvisning?</p></div><div class="modal-footer"><button class="btn btn-success">Ja!</button><button data-dismiss="modal" class="btn btn-danger">Nei takk</button></div></div></div></div><script src="../../assets/vendor.min.js"></script><script src="../../assets/script.min.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-67775835-1', 'auto');
ga('send', 'pageview');</script></body></html>